# ============================================================================
# XOAI HEALTHCARE PLATFORM - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control
# ============================================================================

# ============================================
# DATABASE
# ============================================
# [REQUIRED] MySQL Database Connection
DATABASE_URL="mysql://xoai_user:xoai_password@localhost:3306/xoai"

# [OPTIONAL] Redis Cache Connection
REDIS_URL="redis://localhost:6379"

# ============================================
# AUTHENTICATION
# ============================================
# [REQUIRED] NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-32-char-secret-here-change-in-production"

# [OPTIONAL] Google OAuth
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ============================================
# ENCRYPTION (HIPAA Compliance)
# ============================================
# [REQUIRED] 32-byte hex encryption key for PHI
ENCRYPTION_KEY="your-32-byte-hex-encryption-key-change-this"
ENCRYPTION_ALGORITHM="aes-256-gcm"

# ============================================
# AI SERVICES
# ============================================
# [OPTIONAL] Google Gemini API
GOOGLE_GEMINI_API_KEY=""
GOOGLE_PROJECT_ID=""

# [OPTIONAL] OpenAI API
OPENAI_API_KEY=""

# AI Provider Selection: 'gemini' | 'openai'
AI_PROVIDER="gemini"
AI_INTERPRETATION_MODEL="gemini-1.5-pro"
AI_OCR_CONFIDENCE_THRESHOLD="85"

# ============================================
# E-PRESCRIBING (Surescripts)
# ============================================
# [PRODUCTION] Surescripts Integration
SURESCRIPTS_PARTNER_ID=""
SURESCRIPTS_ACCOUNT_ID=""
SURESCRIPTS_API_KEY=""
SURESCRIPTS_API_SECRET=""
# certification | production
SURESCRIPTS_ENVIRONMENT="certification"
SURESCRIPTS_PHARMACY_NPI=""
SURESCRIPTS_PHARMACY_NCPDP=""

# ============================================
# PDMP INTEGRATION
# ============================================
# [PRODUCTION] PDMP Provider: 'bamboo_health' | 'appriss' | 'state_direct'
PDMP_PROVIDER="bamboo_health"
PDMP_API_KEY=""
PDMP_API_SECRET=""
PDMP_PHARMACY_DEA=""
# Enable PMP InterConnect for multi-state queries
PDMP_INTERCONNECT_ENABLED="true"
# Comma-separated default states to query
PDMP_DEFAULT_STATES="CA,NV,AZ"

# ============================================
# FAX/OCR SERVICES
# ============================================
# [OPTIONAL] eFax Integration
EFAX_ACCOUNT_ID=""
EFAX_API_KEY=""
EFAX_INBOUND_NUMBER="+1-555-123-4567"

# [OPTIONAL] OCR Provider: 'documo' | 'google_vision' | 'aws_textract'
FAX_OCR_PROVIDER="google_vision"

# ============================================
# SIGNATURE CAPTURE DEVICES
# ============================================
# Device type: 'topaz' | 'epadlink' | 'scriptpro' | 'generic'
SIGNATURE_DEVICE_TYPE="topaz"
# HIPAA requirement: 6 years
SIGNATURE_RETENTION_YEARS="6"

# ============================================
# INSURANCE/CLAIMS (NCPDP)
# ============================================
# [PRODUCTION] NCPDP Switch Provider: 'relay_health' | 'change_healthcare' | 'ss_rx'
NCPDP_SWITCH_PROVIDER="relay_health"
NCPDP_SWITCH_API_KEY=""
NCPDP_PHARMACY_NPI=""
NCPDP_PHARMACY_NCPDP=""
NCPDP_DEFAULT_BIN=""

# ============================================
# IMMUNIZATION REGISTRY (IIS)
# ============================================
# [PRODUCTION] State Immunization Registry
IIS_REGISTRY_URL=""
IIS_REGISTRY_API_KEY=""
IIS_FACILITY_ID=""
# Hours to report (state-specific, typically 24-72)
IIS_REPORTING_HOURS="72"

# [OPTIONAL] VFC (Vaccines for Children) Program
VFC_PROVIDER_PIN=""

# ============================================
# DEA/CONTROLLED SUBSTANCES
# ============================================
# [REQUIRED] Pharmacy DEA Number
PHARMACY_DEA_NUMBER=""

# [PRODUCTION] CSOS Electronic Ordering
CSOS_CERTIFICATE_PATH=""
CSOS_CERTIFICATE_PASSWORD=""

# Enable ARCOS Reporting
ARCOS_REPORTING_ENABLED="true"

# ============================================
# WHOLESALER EDI
# ============================================
# Primary wholesaler: 'cardinal' | 'mckesson' | 'amerisource'
PRIMARY_WHOLESALER="cardinal"
WHOLESALER_ACCOUNT_ID=""
WHOLESALER_EDI_ENDPOINT=""
WHOLESALER_EDI_API_KEY=""

# ============================================
# NOTIFICATIONS
# ============================================
# [OPTIONAL] Twilio SMS
TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_PHONE_NUMBER=""

# [OPTIONAL] SendGrid Email
SENDGRID_API_KEY=""
NOTIFICATION_FROM_EMAIL="pharmacy@yourdomain.com"

# ============================================
# PHARMACY CONFIGURATION
# ============================================
# Pharmacy Information
PHARMACY_NAME="Your Pharmacy Name"
PHARMACY_ADDRESS="123 Main St, City, ST 12345"
PHARMACY_PHONE="+1-555-555-5555"
PHARMACY_FAX="+1-555-555-5556"
PHARMACY_NPI=""
PHARMACY_STATE_LICENSE=""

# Operational Settings
# State-specific technician supervision ratio
PHARMACIST_TECH_RATIO="4"
# Days before return to stock
WILL_CALL_DAYS="10"
# Months before requiring new HIPAA signature
SIGNATURE_EXPIRY_MONTHS="6"

# ============================================
# VACCINE STORAGE MONITORING
# ============================================
# [OPTIONAL] Temperature monitoring integration
TEMP_MONITOR_PROVIDER=""
TEMP_MONITOR_API_KEY=""
TEMP_ALERT_EMAIL=""
TEMP_ALERT_SMS=""

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV="development"
PORT="3000"

# Session timeout in minutes (HIPAA compliance)
SESSION_TIMEOUT_MINUTES="15"
# Absolute session lifetime in hours
SESSION_MAX_LIFETIME_HOURS="8"

# Failed login attempts before lockout
MAX_FAILED_LOGIN_ATTEMPTS="5"
# Lockout duration in minutes
ACCOUNT_LOCKOUT_MINUTES="30"

# ============================================
# FEATURE FLAGS
# ============================================
# Enable/disable pharmacy features
FEATURE_IMMUNIZATIONS="true"
FEATURE_PDMP="true"
FEATURE_SURESCRIPTS="false"
FEATURE_DELIVERY="true"
FEATURE_MTM="true"
FEATURE_COMPOUNDING="false"

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: 'debug' | 'info' | 'warn' | 'error'
LOG_LEVEL="info"

# [OPTIONAL] Sentry error tracking
SENTRY_DSN=""

# [OPTIONAL] DataDog APM
DATADOG_API_KEY=""
